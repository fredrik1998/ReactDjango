import{z as ba,A as w,D as O,s as W,F as Jo,B as Oa,r as Pe,b as Yo,a as Xo,d as R,j as g,L as Ra,u as Ca,c as At,f as $t,w as xa,M as ot,H as wa,R as De,C as V,e as Aa,I as $a}from"./index-bf562363.js";import{L as Ia}from"./layout-807d0976.js";import"./FormContainer-aba5ccc0.js";import{u as Ma,g as Ga}from"./orderActions-d71e2b72.js";import{M as pn}from"./Message-f7175443.js";import{L as ee}from"./ListGroup-45fee8b1.js";var Ze={},ka={get exports(){return Ze},set exports(t){Ze=t}};let B=class extends Error{constructor(e={}){super(e.message),this.type=this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}static generate(e){switch(e.type){case"card_error":return new Zo(e);case"invalid_request_error":return new ei(e);case"api_error":return new ti(e);case"authentication_error":return new ri(e);case"rate_limit_error":return new ni(e);case"idempotency_error":return new oi(e);case"invalid_grant":return new ii(e);default:return new ai(e)}}};class Zo extends B{}class ei extends B{}let ti=class extends B{},ri=class extends B{},qa=class extends B{},ni=class extends B{},Da=class extends B{},Na=class extends B{constructor(e,r,n={}){super(n),this.header=e,this.payload=r}};class oi extends B{}class ii extends B{}class ai extends B{}var Kr={generate:B.generate,StripeError:B,StripeCardError:Zo,StripeInvalidRequestError:ei,StripeAPIError:ti,StripeAuthenticationError:ri,StripePermissionError:qa,StripeRateLimitError:ni,StripeConnectionError:Da,StripeSignatureVerificationError:Na,StripeIdempotencyError:oi,StripeInvalidGrantError:ii,StripeUnknownError:ai},St={},Fa={get exports(){return St},set exports(t){St=t}};function si(t,e){for(const r in e){const n=r[0].toLowerCase()+r.substring(1),o=new e[r](t);this[n]=o}}Fa.exports=function(t,e){return function(r){return new si(r,e)}};St.ResourceNamespace=si;var La=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},hn=typeof Symbol<"u"&&Symbol,Ua=La,Ha=function(){return typeof hn!="function"||typeof Symbol!="function"||typeof hn("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ua()},Ba="Function.prototype.bind called on incompatible ",It=Array.prototype.slice,ja=Object.prototype.toString,Wa="[object Function]",za=function(e){var r=this;if(typeof r!="function"||ja.call(r)!==Wa)throw new TypeError(Ba+r);for(var n=It.call(arguments,1),o,i=function(){if(this instanceof o){var d=r.apply(this,n.concat(It.call(arguments)));return Object(d)===d?d:this}else return r.apply(e,n.concat(It.call(arguments)))},a=Math.max(0,r.length-n.length),l=[],s=0;s<a;s++)l.push("$"+s);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o},Va=za,Qr=Function.prototype.bind||Va,Ka=Qr,Qa=Ka.call(Function.call,Object.prototype.hasOwnProperty),S,Ie=SyntaxError,ui=Function,$e=TypeError,Mt=function(t){try{return ui('"use strict"; return ('+t+").constructor;")()}catch{}},Se=Object.getOwnPropertyDescriptor;if(Se)try{Se({},"")}catch{Se=null}var Gt=function(){throw new $e},Ja=Se?function(){try{return arguments.callee,Gt}catch{try{return Se(arguments,"callee").get}catch{return Gt}}}():Gt,_e=Ha(),te=Object.getPrototypeOf||function(t){return t.__proto__},Ae={},Ya=typeof Uint8Array>"u"?S:te(Uint8Array),Te={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":_e?te([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":Ae,"%AsyncGenerator%":Ae,"%AsyncGeneratorFunction%":Ae,"%AsyncIteratorPrototype%":Ae,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":ui,"%GeneratorFunction%":Ae,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_e?te(te([][Symbol.iterator]())):S,"%JSON%":typeof JSON=="object"?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_e?S:te(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_e?S:te(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_e?te(""[Symbol.iterator]()):S,"%Symbol%":_e?Symbol:S,"%SyntaxError%":Ie,"%ThrowTypeError%":Ja,"%TypedArray%":Ya,"%TypeError%":$e,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};try{null.error}catch(t){var Xa=te(te(t));Te["%Error.prototype%"]=Xa}var Za=function t(e){var r;if(e==="%AsyncFunction%")r=Mt("async function () {}");else if(e==="%GeneratorFunction%")r=Mt("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Mt("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(r=te(o.prototype))}return Te[e]=r,r},fn={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},tt=Qr,Tt=Qa,es=tt.call(Function.call,Array.prototype.concat),ts=tt.call(Function.apply,Array.prototype.splice),mn=tt.call(Function.call,String.prototype.replace),Et=tt.call(Function.call,String.prototype.slice),rs=tt.call(Function.call,RegExp.prototype.exec),ns=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,os=/\\(\\)?/g,is=function(e){var r=Et(e,0,1),n=Et(e,-1);if(r==="%"&&n!=="%")throw new Ie("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ie("invalid intrinsic syntax, expected opening `%`");var o=[];return mn(e,ns,function(i,a,l,s){o[o.length]=l?mn(s,os,"$1"):a||i}),o},as=function(e,r){var n=e,o;if(Tt(fn,n)&&(o=fn[n],n="%"+o[0]+"%"),Tt(Te,n)){var i=Te[n];if(i===Ae&&(i=Za(n)),typeof i>"u"&&!r)throw new $e("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new Ie("intrinsic "+e+" does not exist!")},Jr=function(e,r){if(typeof e!="string"||e.length===0)throw new $e("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $e('"allowMissing" argument must be a boolean');if(rs(/^%?[^%]*%?$/,e)===null)throw new Ie("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=is(e),o=n.length>0?n[0]:"",i=as("%"+o+"%",r),a=i.name,l=i.value,s=!1,u=i.alias;u&&(o=u[0],ts(n,es([0,1],u)));for(var d=1,m=!0;d<n.length;d+=1){var c=n[d],h=Et(c,0,1),f=Et(c,-1);if((h==='"'||h==="'"||h==="`"||f==='"'||f==="'"||f==="`")&&h!==f)throw new Ie("property names with quotes must have matching quotes");if((c==="constructor"||!m)&&(s=!0),o+="."+c,a="%"+o+"%",Tt(Te,a))l=Te[a];else if(l!=null){if(!(c in l)){if(!r)throw new $e("base intrinsic for "+e+" exists, but the property is not available.");return}if(Se&&d+1>=n.length){var v=Se(l,c);m=!!v,m&&"get"in v&&!("originalValue"in v.get)?l=v.get:l=l[c]}else m=Tt(l,c),l=l[c];m&&!s&&(Te[a]=l)}}return l},Nr={},ss={get exports(){return Nr},set exports(t){Nr=t}};(function(t){var e=Qr,r=Jr,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),s=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(m){var c=i(e,o,arguments);if(a&&l){var h=a(c,"length");h.configurable&&l(c,"length",{value:1+s(0,m.length-(arguments.length-1))})}return c};var u=function(){return i(e,n,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u})(ss);var li=Jr,ci=Nr,us=ci(li("String.prototype.indexOf")),ls=function(e,r){var n=li(e,!!r);return typeof n=="function"&&us(e,".prototype.")>-1?ci(n):n};const cs={},ds=Object.freeze(Object.defineProperty({__proto__:null,default:cs},Symbol.toStringTag,{value:"Module"})),ps=ba(ds);var Yr=typeof Map=="function"&&Map.prototype,kt=Object.getOwnPropertyDescriptor&&Yr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,_t=Yr&&kt&&typeof kt.get=="function"?kt.get:null,vn=Yr&&Map.prototype.forEach,Xr=typeof Set=="function"&&Set.prototype,qt=Object.getOwnPropertyDescriptor&&Xr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,bt=Xr&&qt&&typeof qt.get=="function"?qt.get:null,yn=Xr&&Set.prototype.forEach,hs=typeof WeakMap=="function"&&WeakMap.prototype,Je=hs?WeakMap.prototype.has:null,fs=typeof WeakSet=="function"&&WeakSet.prototype,Ye=fs?WeakSet.prototype.has:null,ms=typeof WeakRef=="function"&&WeakRef.prototype,Pn=ms?WeakRef.prototype.deref:null,vs=Boolean.prototype.valueOf,ys=Object.prototype.toString,Ps=Function.prototype.toString,gs=String.prototype.match,Zr=String.prototype.slice,de=String.prototype.replace,Ss=String.prototype.toUpperCase,gn=String.prototype.toLowerCase,di=RegExp.prototype.test,Sn=Array.prototype.concat,re=Array.prototype.join,Ts=Array.prototype.slice,Tn=Math.floor,Fr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Dt=Object.getOwnPropertySymbols,Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Me=typeof Symbol=="function"&&typeof Symbol.iterator=="object",D=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Me||"symbol")?Symbol.toStringTag:null,pi=Object.prototype.propertyIsEnumerable,En=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function _n(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||di.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Tn(-t):Tn(t);if(n!==t){var o=String(n),i=Zr.call(e,o.length+1);return de.call(o,r,"$&_")+"."+de.call(de.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(e,r,"$&_")}var Ur=ps,bn=Ur.custom,On=fi(bn)?bn:null,Es=function t(e,r,n,o){var i=r||{};if(ce(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ce(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=ce(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ce(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ce(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return vi(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return l?_n(e,s):s}if(typeof e=="bigint"){var u=String(e)+"n";return l?_n(e,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return Hr(e)?"[Array]":"[Object]";var m=Ls(i,n);if(typeof o>"u")o=[];else if(mi(o,e)>=0)return"[Circular]";function c(U,J,j){if(J&&(o=Ts.call(o),o.push(J)),j){var C={depth:i.depth};return ce(i,"quoteStyle")&&(C.quoteStyle=i.quoteStyle),t(U,C,n+1,o)}return t(U,i,n+1,o)}if(typeof e=="function"&&!Rn(e)){var h=$s(e),f=it(e,c);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(f.length>0?" { "+re.call(f,", ")+" }":"")}if(fi(e)){var v=Me?de.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Lr.call(e);return typeof e=="object"&&!Me?Ne(v):v}if(Ds(e)){for(var P="<"+gn.call(String(e.nodeName)),y=e.attributes||[],E=0;E<y.length;E++)P+=" "+y[E].name+"="+hi(_s(y[E].value),"double",i);return P+=">",e.childNodes&&e.childNodes.length&&(P+="..."),P+="</"+gn.call(String(e.nodeName))+">",P}if(Hr(e)){if(e.length===0)return"[]";var A=it(e,c);return m&&!Fs(A)?"["+Br(A,m)+"]":"[ "+re.call(A,", ")+" ]"}if(Os(e)){var _=it(e,c);return!("cause"in Error.prototype)&&"cause"in e&&!pi.call(e,"cause")?"{ ["+String(e)+"] "+re.call(Sn.call("[cause]: "+c(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+re.call(_,", ")+" }"}if(typeof e=="object"&&a){if(On&&typeof e[On]=="function"&&Ur)return Ur(e,{depth:d-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Is(e)){var $=[];return vn&&vn.call(e,function(U,J){$.push(c(J,e,!0)+" => "+c(U,e))}),Cn("Map",_t.call(e),$,m)}if(ks(e)){var b=[];return yn&&yn.call(e,function(U){b.push(c(U,e))}),Cn("Set",bt.call(e),b,m)}if(Ms(e))return Nt("WeakMap");if(qs(e))return Nt("WeakSet");if(Gs(e))return Nt("WeakRef");if(Cs(e))return Ne(c(Number(e)));if(ws(e))return Ne(c(Fr.call(e)));if(xs(e))return Ne(vs.call(e));if(Rs(e))return Ne(c(String(e)));if(!bs(e)&&!Rn(e)){var G=it(e,c),K=En?En(e)===Object.prototype:e instanceof Object||e.constructor===Object,Q=e instanceof Object?"":"null prototype",ae=!K&&D&&Object(e)===e&&D in e?Zr.call(pe(e),8,-1):Q?"Object":"",ne=K||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",se=ne+(ae||Q?"["+re.call(Sn.call([],ae||[],Q||[]),": ")+"] ":"");return G.length===0?se+"{}":m?se+"{"+Br(G,m)+"}":se+"{ "+re.call(G,", ")+" }"}return String(e)};function hi(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function _s(t){return de.call(String(t),/"/g,"&quot;")}function Hr(t){return pe(t)==="[object Array]"&&(!D||!(typeof t=="object"&&D in t))}function bs(t){return pe(t)==="[object Date]"&&(!D||!(typeof t=="object"&&D in t))}function Rn(t){return pe(t)==="[object RegExp]"&&(!D||!(typeof t=="object"&&D in t))}function Os(t){return pe(t)==="[object Error]"&&(!D||!(typeof t=="object"&&D in t))}function Rs(t){return pe(t)==="[object String]"&&(!D||!(typeof t=="object"&&D in t))}function Cs(t){return pe(t)==="[object Number]"&&(!D||!(typeof t=="object"&&D in t))}function xs(t){return pe(t)==="[object Boolean]"&&(!D||!(typeof t=="object"&&D in t))}function fi(t){if(Me)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Lr)return!1;try{return Lr.call(t),!0}catch{}return!1}function ws(t){if(!t||typeof t!="object"||!Fr)return!1;try{return Fr.call(t),!0}catch{}return!1}var As=Object.prototype.hasOwnProperty||function(t){return t in this};function ce(t,e){return As.call(t,e)}function pe(t){return ys.call(t)}function $s(t){if(t.name)return t.name;var e=gs.call(Ps.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function mi(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Is(t){if(!_t||!t||typeof t!="object")return!1;try{_t.call(t);try{bt.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Ms(t){if(!Je||!t||typeof t!="object")return!1;try{Je.call(t,Je);try{Ye.call(t,Ye)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Gs(t){if(!Pn||!t||typeof t!="object")return!1;try{return Pn.call(t),!0}catch{}return!1}function ks(t){if(!bt||!t||typeof t!="object")return!1;try{bt.call(t);try{_t.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function qs(t){if(!Ye||!t||typeof t!="object")return!1;try{Ye.call(t,Ye);try{Je.call(t,Je)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Ds(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function vi(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return vi(Zr.call(t,0,e.maxStringLength),e)+n}var o=de.call(de.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ns);return hi(o,"single",e)}function Ns(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Ss.call(e.toString(16))}function Ne(t){return"Object("+t+")"}function Nt(t){return t+" { ? }"}function Cn(t,e,r,n){var o=n?Br(r,n):re.call(r,", ");return t+" ("+e+") {"+o+"}"}function Fs(t){for(var e=0;e<t.length;e++)if(mi(t[e],`
`)>=0)return!1;return!0}function Ls(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=re.call(Array(t.indent+1)," ");else return null;return{base:r,prev:re.call(Array(e+1),r)}}function Br(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+re.call(t,","+r)+`
`+e.prev}function it(t,e){var r=Hr(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=ce(t,o)?e(t[o],t):""}var i=typeof Dt=="function"?Dt(t):[],a;if(Me){a={};for(var l=0;l<i.length;l++)a["$"+i[l]]=i[l]}for(var s in t)ce(t,s)&&(r&&String(Number(s))===s&&s<t.length||Me&&a["$"+s]instanceof Symbol||(di.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if(typeof Dt=="function")for(var u=0;u<i.length;u++)pi.call(t,i[u])&&n.push("["+e(i[u])+"]: "+e(t[i[u]],t));return n}var en=Jr,qe=ls,Us=Es,Hs=en("%TypeError%"),at=en("%WeakMap%",!0),st=en("%Map%",!0),Bs=qe("WeakMap.prototype.get",!0),js=qe("WeakMap.prototype.set",!0),Ws=qe("WeakMap.prototype.has",!0),zs=qe("Map.prototype.get",!0),Vs=qe("Map.prototype.set",!0),Ks=qe("Map.prototype.has",!0),tn=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Qs=function(t,e){var r=tn(t,e);return r&&r.value},Js=function(t,e,r){var n=tn(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Ys=function(t,e){return!!tn(t,e)},Xs=function(){var e,r,n,o={assert:function(i){if(!o.has(i))throw new Hs("Side channel does not contain "+Us(i))},get:function(i){if(at&&i&&(typeof i=="object"||typeof i=="function")){if(e)return Bs(e,i)}else if(st){if(r)return zs(r,i)}else if(n)return Qs(n,i)},has:function(i){if(at&&i&&(typeof i=="object"||typeof i=="function")){if(e)return Ws(e,i)}else if(st){if(r)return Ks(r,i)}else if(n)return Ys(n,i);return!1},set:function(i,a){at&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new at),js(e,i,a)):st?(r||(r=new st),Vs(r,i,a)):(n||(n={key:{},next:null}),Js(n,i,a))}};return o},Zs=String.prototype.replace,eu=/%20/g,Ft={RFC1738:"RFC1738",RFC3986:"RFC3986"},rn={default:Ft.RFC3986,formatters:{RFC1738:function(t){return Zs.call(t,eu,"+")},RFC3986:function(t){return String(t)}},RFC1738:Ft.RFC1738,RFC3986:Ft.RFC3986},tu=rn,Lt=Object.prototype.hasOwnProperty,ye=Array.isArray,X=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),ru=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ye(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]<"u"&&o.push(n[i]);r.obj[r.prop]=o}}},yi=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]<"u"&&(n[o]=e[o]);return n},nu=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(ye(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Lt.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return ye(e)&&!ye(r)&&(o=yi(e,n)),ye(e)&&ye(r)?(r.forEach(function(i,a){if(Lt.call(e,a)){var l=e[a];l&&typeof l=="object"&&i&&typeof i=="object"?e[a]=t(l,i,n):e.push(i)}else e[a]=i}),e):Object.keys(r).reduce(function(i,a){var l=r[a];return Lt.call(i,a)?i[a]=t(i[a],l,n):i[a]=l,i},o)},ou=function(e,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},e)},iu=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},au=function(e,r,n,o,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var l="",s=0;s<a.length;++s){var u=a.charCodeAt(s);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===tu.RFC1738&&(u===40||u===41)){l+=a.charAt(s);continue}if(u<128){l=l+X[u];continue}if(u<2048){l=l+(X[192|u>>6]+X[128|u&63]);continue}if(u<55296||u>=57344){l=l+(X[224|u>>12]+X[128|u>>6&63]+X[128|u&63]);continue}s+=1,u=65536+((u&1023)<<10|a.charCodeAt(s)&1023),l+=X[240|u>>18]+X[128|u>>12&63]+X[128|u>>6&63]+X[128|u&63]}return l},su=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],a=i.obj[i.prop],l=Object.keys(a),s=0;s<l.length;++s){var u=l[s],d=a[u];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:a,prop:u}),n.push(d))}return ru(r),e},uu=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},lu=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},cu=function(e,r){return[].concat(e,r)},du=function(e,r){if(ye(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(r(e[o]));return n}return r(e)},Pi={arrayToObject:yi,assign:ou,combine:cu,compact:su,decode:iu,encode:au,isBuffer:lu,isRegExp:uu,maybeMap:du,merge:nu},gi=Xs,jr=Pi,Xe=rn,pu=Object.prototype.hasOwnProperty,xn={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ie=Array.isArray,hu=String.prototype.split,fu=Array.prototype.push,Si=function(t,e){fu.apply(t,ie(e)?e:[e])},mu=Date.prototype.toISOString,wn=Xe.default,q={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:jr.encode,encodeValuesOnly:!1,format:wn,formatter:Xe.formatters[wn],indices:!1,serializeDate:function(e){return mu.call(e)},skipNulls:!1,strictNullHandling:!1},vu=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ut={},yu=function t(e,r,n,o,i,a,l,s,u,d,m,c,h,f,v,P){for(var y=e,E=P,A=0,_=!1;(E=E.get(Ut))!==void 0&&!_;){var $=E.get(e);if(A+=1,typeof $<"u"){if($===A)throw new RangeError("Cyclic object value");_=!0}typeof E.get(Ut)>"u"&&(A=0)}if(typeof s=="function"?y=s(r,y):y instanceof Date?y=m(y):n==="comma"&&ie(y)&&(y=jr.maybeMap(y,function(he){return he instanceof Date?m(he):he})),y===null){if(i)return l&&!f?l(r,q.encoder,v,"key",c):r;y=""}if(vu(y)||jr.isBuffer(y)){if(l){var b=f?r:l(r,q.encoder,v,"key",c);if(n==="comma"&&f){for(var G=hu.call(String(y),","),K="",Q=0;Q<G.length;++Q)K+=(Q===0?"":",")+h(l(G[Q],q.encoder,v,"value",c));return[h(b)+(o&&ie(y)&&G.length===1?"[]":"")+"="+K]}return[h(b)+"="+h(l(y,q.encoder,v,"value",c))]}return[h(r)+"="+h(String(y))]}var ae=[];if(typeof y>"u")return ae;var ne;if(n==="comma"&&ie(y))ne=[{value:y.length>0?y.join(",")||null:void 0}];else if(ie(s))ne=s;else{var se=Object.keys(y);ne=u?se.sort(u):se}for(var U=o&&ie(y)&&y.length===1?r+"[]":r,J=0;J<ne.length;++J){var j=ne[J],C=typeof j=="object"&&typeof j.value<"u"?j.value:y[j];if(!(a&&C===null)){var Ct=ie(y)?typeof n=="function"?n(U,j):U:U+(d?"."+j:"["+j+"]");P.set(e,A);var Y=gi();Y.set(Ut,P),Si(ae,t(C,Ct,n,o,i,a,l,s,u,d,m,c,h,f,v,Y))}}return ae},Pu=function(e){if(!e)return q;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||q.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Xe.default;if(typeof e.format<"u"){if(!pu.call(Xe.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=Xe.formatters[n],i=q.filter;return(typeof e.filter=="function"||ie(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:q.addQueryPrefix,allowDots:typeof e.allowDots>"u"?q.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:q.charsetSentinel,delimiter:typeof e.delimiter>"u"?q.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:q.encode,encoder:typeof e.encoder=="function"?e.encoder:q.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:q.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:q.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:q.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:q.strictNullHandling}},gu=function(t,e){var r=t,n=Pu(e),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):ie(n.filter)&&(i=n.filter,o=i);var a=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in xn?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var s=xn[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=s==="comma"&&e&&e.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var d=gi(),m=0;m<o.length;++m){var c=o[m];n.skipNulls&&r[c]===null||Si(a,yu(r[c],c,s,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var h=a.join(n.delimiter),f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""},Ge=Pi,Wr=Object.prototype.hasOwnProperty,Su=Array.isArray,k={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ge.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Tu=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ti=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Eu="utf8=%26%2310003%3B",_u="utf8=%E2%9C%93",bu=function(e,r){var n={},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=o.split(r.delimiter,i),l=-1,s,u=r.charset;if(r.charsetSentinel)for(s=0;s<a.length;++s)a[s].indexOf("utf8=")===0&&(a[s]===_u?u="utf-8":a[s]===Eu&&(u="iso-8859-1"),l=s,s=a.length);for(s=0;s<a.length;++s)if(s!==l){var d=a[s],m=d.indexOf("]="),c=m===-1?d.indexOf("="):m+1,h,f;c===-1?(h=r.decoder(d,k.decoder,u,"key"),f=r.strictNullHandling?null:""):(h=r.decoder(d.slice(0,c),k.decoder,u,"key"),f=Ge.maybeMap(Ti(d.slice(c+1),r),function(v){return r.decoder(v,k.decoder,u,"value")})),f&&r.interpretNumericEntities&&u==="iso-8859-1"&&(f=Tu(f)),d.indexOf("[]=")>-1&&(f=Su(f)?[f]:f),Wr.call(n,h)?n[h]=Ge.combine(n[h],f):n[h]=f}return n},Ou=function(t,e,r,n){for(var o=n?e:Ti(e,r),i=t.length-1;i>=0;--i){var a,l=t[i];if(l==="[]"&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var s=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=parseInt(s,10);!r.parseArrays&&s===""?a={0:o}:!isNaN(u)&&l!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[],a[u]=o):s!=="__proto__"&&(a[s]=o)}o=a}return o},Ru=function(e,r,n,o){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&a.exec(i),u=s?i.slice(0,s.index):i,d=[];if(u){if(!n.plainObjects&&Wr.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var m=0;n.depth>0&&(s=l.exec(i))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&Wr.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(s[1])}return s&&d.push("["+i.slice(s.index)+"]"),Ou(d,r,n,o)}},Cu=function(e){if(!e)return k;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?k.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?k.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:k.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:k.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:k.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:k.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:k.comma,decoder:typeof e.decoder=="function"?e.decoder:k.decoder,delimiter:typeof e.delimiter=="string"||Ge.isRegExp(e.delimiter)?e.delimiter:k.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:k.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:k.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:k.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:k.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:k.strictNullHandling}},xu=function(t,e){var r=Cu(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?bu(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var l=i[a],s=Ru(l,n[l],r,typeof t=="string");o=Ge.merge(o,s,r)}return r.allowSparse===!0?o:Ge.compact(o)},wu=gu,Au=xu,$u=rn,Iu={formats:$u,parse:Au,stringify:wu};const Mu=Iu,Ht=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host"],Ke={isOptionsHash(t){return t&&typeof t=="object"&&Ht.some(e=>Object.prototype.hasOwnProperty.call(t,e))},stringifyRequestData:t=>Mu.stringify(t,{serializeDate:e=>Math.floor(e.getTime()/1e3)}).replace(/%5B/g,"[").replace(/%5D/g,"]"),makeURLInterpolator:(()=>{const t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{const r=e.replace(/["\n\r\u2028\u2029]/g,n=>t[n]);return n=>r.replace(/\{([\s\S]+?)\}/g,(o,i)=>encodeURIComponent(n[i]||""))}})(),extractUrlParams:t=>{const e=t.match(/\{\w+\}/g);return e?e.map(r=>r.replace(/[{}]/g,"")):[]},getDataFromArgs(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!Ke.isOptionsHash(t[0]))return t.shift();const e=Object.keys(t[0]),r=e.filter(n=>Ht.includes(n));return r.length>0&&r.length!==e.length&&Bt(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}},getOptionsFromArgs:t=>{const e={auth:null,host:null,headers:{},settings:{}};if(t.length>0){const r=t[t.length-1];if(typeof r=="string")e.auth=t.pop();else if(Ke.isOptionsHash(r)){const n=Object.assign({},t.pop()),o=Object.keys(n).filter(i=>!Ht.includes(i));o.length&&Bt(`Invalid options found (${o.join(", ")}); ignoring.`),n.apiKey&&(e.auth=n.apiKey),n.idempotencyKey&&(e.headers["Idempotency-Key"]=n.idempotencyKey),n.stripeAccount&&(e.headers["Stripe-Account"]=n.stripeAccount),n.apiVersion&&(e.headers["Stripe-Version"]=n.apiVersion),Number.isInteger(n.maxNetworkRetries)&&(e.settings.maxNetworkRetries=n.maxNetworkRetries),Number.isInteger(n.timeout)&&(e.settings.timeout=n.timeout),n.host&&(e.host=n.host)}}return e},protoExtend(t){const e=this,r=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...n){e.apply(this,n)};return Object.assign(r,e),r.prototype=Object.create(e.prototype),Object.assign(r.prototype,t),r},removeNullish:t=>{if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,r)=>(t[r]!=null&&(e[r]=t[r]),e),{})},normalizeHeaders:t=>t&&typeof t=="object"?Object.keys(t).reduce((e,r)=>(e[Ke.normalizeHeader(r)]=t[r],e),{}):t,normalizeHeader:t=>t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-"),callbackifyPromiseWithTimeout:(t,e)=>e?t.then(r=>{setTimeout(()=>{e(null,r)},0)},r=>{setTimeout(()=>{e(r,null)},0)}):t,pascalToCamelCase:t=>t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1),emitWarning:Bt,isObject:t=>{const e=typeof t;return(e==="function"||e==="object")&&!!t},flattenAndStringify:t=>{const e={},r=(n,o)=>{Object.keys(n).forEach(i=>{const a=n[i],l=o?`${o}[${i}]`:i;if(Ke.isObject(a)){if(!(a instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(a,"data"))return r(a,l);e[l]=a}else e[l]=String(a)})};return r(t,null),e},validateInteger:(t,e,r)=>{if(!Number.isInteger(e)){if(r!==void 0)return r;throw new Error(`${t} must be an integer`)}return e},determineProcessUserAgentProperties:()=>typeof process>"u"?{}:{lang_version:process.version,platform:process.platform},concat:t=>{const e=t.reduce((o,i)=>o+i.length,0),r=new Uint8Array(e);let n=0;return t.forEach(o=>{r.set(o,n),n+=o.length}),r}};function Bt(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}var Ee=Ke;const nn=Ee;function Gu(t,e,r,n){const o={currentPromise:null},i=Bu(e);let a=n,l=0,s;r.methodType==="search"?s=f=>{if(!f.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return t._makeRequest(e,r,{page:f.next_page})}:s=f=>{const v=Nu(f,i);return t._makeRequest(e,r,{[i?"ending_before":"starting_after"]:v})};function u(f){if(!(f&&f.data&&typeof f.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");if(l<f.data.length){const v=i?f.data.length-1-l:l,P=f.data[v];return l+=1,{value:P,done:!1}}else if(f.has_more)return l=0,a=s(f),a.then(u);return{value:void 0,done:!0}}function d(){return Fu(o,(f,v)=>a.then(u).then(f).catch(v))}const m=Lu(d),c=Uu(m),h={autoPagingEach:m,autoPagingToArray:c,next:d,return:()=>({}),[ku()]:()=>h};return h}function ku(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function qu(t){if(t.length<2)return null;const e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function Du(t){if(t.length===0)return;const e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(n,o){const i=e(n);o(i)}}function Nu(t,e){const r=e?0:t.data.length-1,n=t.data[r],o=n&&n.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}function Fu(t,e){return t.currentPromise||(t.currentPromise=new Promise(e).then(r=>(t.currentPromise=void 0,r))),t.currentPromise}function Lu(t){return function(){const r=[].slice.call(arguments),n=Du(r),o=qu(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);const i=Hu(t,n);return nn.callbackifyPromiseWithTimeout(i,o)}}function Uu(t){return function(r,n){const o=r&&r.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");const i=new Promise((a,l)=>{const s=[];t(u=>{if(s.push(u),s.length>=o)return!1}).then(()=>{a(s)}).catch(l)});return nn.callbackifyPromiseWithTimeout(i,n)}}function Hu(t,e){return new Promise((r,n)=>{function o(i){if(i.done){r();return}const a=i.value;return new Promise(l=>{e(a,l)}).then(l=>l===!1?o({done:!0}):t().then(o))}t().then(o).catch(n)})}function Bu(t){const e=[].slice.call(t);return!!nn.getDataFromArgs(e).ending_before}var ju={makeAutoPaginationMethods:Gu};const An=Ee,Wu=ju,zu=Wu.makeAutoPaginationMethods;function Vu(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){const r=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=An.extractUrlParams(t.fullPath||this.createResourcePathWithSymbols(t.path||""));const n=An.callbackifyPromiseWithTimeout(this._makeRequest(e,t,{}),r);if(t.methodType==="list"||t.methodType==="search"){const o=zu(this,e,t,n);Object.assign(n,o)}return n}}var Ku=Vu;const ge=Ee;rt.extend=ge.protoExtend;rt.method=Ku;rt.MAX_BUFFERED_REQUEST_METRICS=100;function rt(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=ge.makeURLInterpolator(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=ge.makeURLInterpolator(this.path),this.initialize(...arguments)}rt.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){const r=[this.basePath(e),this.path(e)];if(typeof t=="function"){const n=t(e);n&&r.push(n)}else r.push(t);return this._joinUrlParts(r)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,r){const n=(e.method||"GET").toUpperCase(),o=e.urlParams||[],i=e.encode||($=>$),a=!!e.fullPath,l=ge.makeURLInterpolator(a?e.fullPath:e.path||""),s=a?e.fullPath:this.createResourcePathWithSymbols(e.path),u=[].slice.call(t),d=o.reduce(($,b)=>{const G=u.shift();if(typeof G!="string")throw new Error(`Stripe: Argument "${b}" must be a string, but got: ${G} (on API request to \`${n} ${s}\`)`);return $[b]=G,$},{}),m=ge.getDataFromArgs(u),c=i(Object.assign({},m,r)),h=ge.getOptionsFromArgs(u),f=h.host||e.host,v=!!e.streaming;if(u.filter($=>$!=null).length)throw new Error(`Stripe: Unknown arguments (${u}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${n} \`${s}\`)`);const P=a?l(d):this.createFullPath(l,d),y=Object.assign(h.headers,e.headers);e.validator&&e.validator(c,{headers:y});const E=e.method==="GET"||e.method==="DELETE";return{requestMethod:n,requestPath:P,bodyData:E?{}:c,queryData:E?c:{},auth:h.auth,headers:y,host:f??null,streaming:v,settings:h.settings}},_makeRequest(t,e,r){return new Promise((n,o)=>{var i;let a;try{a=this._getRequestOpts(t,e,r)}catch(c){o(c);return}function l(c,h){c?o(c):n(e.transformResponseData?e.transformResponseData(h):h)}const s=Object.keys(a.queryData).length===0,u=[a.requestPath,s?"":"?",ge.stringifyRequestData(a.queryData)].join(""),{headers:d,settings:m}=a;this._stripe._requestSender._request(a.requestMethod,a.host,u,a.bodyData,a.auth,{headers:d,settings:m,streaming:a.streaming},l,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};var p=rt;const Ei=p,x=Ei.method;var $n=Ei.extend({create:x({method:"POST",fullPath:"/v1/accounts"}),retrieve(t){return typeof t=="string"?x({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,arguments):(t==null&&[].shift.apply(arguments),x({method:"GET",fullPath:"/v1/account"}).apply(this,arguments))},update:x({method:"POST",fullPath:"/v1/accounts/{account}"}),list:x({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:x({method:"DELETE",fullPath:"/v1/accounts/{account}"}),reject:x({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCapability:x({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateCapability:x({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),listCapabilities:x({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),createExternalAccount:x({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),retrieveExternalAccount:x({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updateExternalAccount:x({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),listExternalAccounts:x({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),deleteExternalAccount:x({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),createLoginLink:x({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:x({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),retrievePerson:x({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updatePerson:x({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"}),listPersons:x({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),deletePerson:x({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"})});const _i=p,Qu=_i.method;var Ju=_i.extend({create:Qu({method:"POST",fullPath:"/v1/account_links"})});const bi=p,ut=bi.method;var Yu=bi.extend({create:ut({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:ut({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:ut({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:ut({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});const Oi=p,be=Oi.method;var Xu=Oi.extend({retrieve:be({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:be({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:be({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),retrieveRefund:be({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:be({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),listRefunds:be({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"})});const Ri=p,Zu=Ri.method;var el=Ri.extend({retrieve:Zu({method:"GET",fullPath:"/v1/balance"})});const Ci=p,In=Ci.method;var tl=Ci.extend({retrieve:In({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:In({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});const xi=p,Oe=xi.method;var rl=xi.extend({create:Oe({method:"POST",fullPath:"/v1/charges"}),retrieve:Oe({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Oe({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Oe({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Oe({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Oe({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});const wi=p,Mn=wi.method;var nl=wi.extend({retrieve:Mn({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:Mn({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});const Ai=p,Fe=Ai.method;var ol=Ai.extend({create:Fe({method:"POST",fullPath:"/v1/coupons"}),retrieve:Fe({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:Fe({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:Fe({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:Fe({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});const $i=p,ue=$i.method;var il=$i.extend({create:ue({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:ue({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:ue({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:ue({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listPreviewLineItems:ue({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:ue({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:ue({method:"POST",fullPath:"/v1/credit_notes/{id}/void"}),listLineItems:ue({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"})});const Ii=p,T=Ii.method;var al=Ii.extend({create:T({method:"POST",fullPath:"/v1/customers"}),retrieve:T({method:"GET",fullPath:"/v1/customers/{customer}"}),update:T({method:"POST",fullPath:"/v1/customers/{customer}"}),list:T({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:T({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createFundingInstructions:T({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),deleteDiscount:T({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),listPaymentMethods:T({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),retrievePaymentMethod:T({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),search:T({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),retrieveCashBalance:T({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),updateCashBalance:T({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),createBalanceTransaction:T({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),retrieveBalanceTransaction:T({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateBalanceTransaction:T({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),listBalanceTransactions:T({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),retrieveCashBalanceTransaction:T({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),listCashBalanceTransactions:T({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),createSource:T({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),retrieveSource:T({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),updateSource:T({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),listSources:T({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),deleteSource:T({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:T({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"}),createTaxId:T({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),retrieveTaxId:T({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listTaxIds:T({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),deleteTaxId:T({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"})});const Mi=p,lt=Mi.method;var sl=Mi.extend({retrieve:lt({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:lt({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:lt({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:lt({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});const Gi=p,Gn=Gi.method;var ul=Gi.extend({create:Gn({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:Gn({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});const ki=p,kn=ki.method;var ll=ki.extend({retrieve:kn({method:"GET",fullPath:"/v1/events/{id}"}),list:kn({method:"GET",fullPath:"/v1/events",methodType:"list"})});const qi=p,qn=qi.method;var cl=qi.extend({retrieve:qn({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:qn({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});const Di=p,ct=Di.method;var dl=Di.extend({create:ct({method:"POST",fullPath:"/v1/file_links"}),retrieve:ct({method:"GET",fullPath:"/v1/file_links/{link}"}),update:ct({method:"POST",fullPath:"/v1/file_links/{link}"}),list:ct({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});const Ni=Ee,pl=(t,e,r)=>{const n=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${n}`;const o=new TextEncoder;let i=new Uint8Array(0);const a=o.encode(`\r
`);function l(d){const m=i,c=d instanceof Uint8Array?d:new Uint8Array(o.encode(d));i=new Uint8Array(m.length+c.length+2),i.set(m),i.set(c,m.length),i.set(a,i.length-2)}function s(d){return`"${d.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const u=Ni.flattenAndStringify(e);for(const d in u){const m=u[d];if(l(`--${n}`),Object.prototype.hasOwnProperty.call(m,"data")){const c=m;l(`Content-Disposition: form-data; name=${s(d)}; filename=${s(c.name||"blob")}`),l(`Content-Type: ${c.type||"application/octet-stream"}`),l(""),l(c.data)}else l(`Content-Disposition: form-data; name=${s(d)}`),l(""),l(m)}return l(`--${n}--`),i};function hl(t,e,r,n){if(e=e||{},t!=="POST")return n(null,Ni.stringifyRequestData(e));this._stripe._platformFunctions.tryBufferData(e).then(o=>{const i=pl(t,o,r);return n(null,i)}).catch(o=>n(o,null))}var fl={multipartRequestDataProcessor:hl};const{multipartRequestDataProcessor:ml}=fl,Fi=p,jt=Fi.method;var vl=Fi.extend({create:jt({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:jt({method:"GET",fullPath:"/v1/files/{file}"}),list:jt({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:ml});const Li=p,Le=Li.method;var yl=Li.extend({create:Le({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:Le({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:Le({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:Le({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:Le({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});const Ui=p,H=Ui.method;var Pl=Ui.extend({create:H({method:"POST",fullPath:"/v1/invoices"}),retrieve:H({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:H({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:H({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:H({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),finalizeInvoice:H({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listUpcomingLines:H({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:H({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:H({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),retrieveUpcoming:H({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:H({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:H({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),voidInvoice:H({method:"POST",fullPath:"/v1/invoices/{invoice}/void"}),listLineItems:H({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"})});const Hi=p,gl=Hi.method;var Sl=Hi.extend({retrieve:gl({method:"GET",fullPath:"/v1/mandates/{mandate}"})});const Bi=p,Dn=Bi.method,Tl=Ee,Wt="connect.stripe.com";var El=Bi.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let r="oauth/authorize";return e.express&&(r=`express/${r}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${Wt}/${r}?${Tl.stringifyRequestData(t)}`},token:Dn({method:"POST",path:"oauth/token",host:Wt}),deauthorize(t){return t.client_id||(t.client_id=this._stripe.getClientId()),Dn({method:"POST",path:"oauth/deauthorize",host:Wt}).apply(this,arguments)}});const ji=p,z=ji.method;var _l=ji.extend({create:z({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:z({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:z({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:z({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:z({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:z({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:z({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:z({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:z({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:z({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:z({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});const Wi=p,Ue=Wi.method;var bl=Wi.extend({create:Ue({method:"POST",fullPath:"/v1/payment_links"}),retrieve:Ue({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:Ue({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:Ue({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:Ue({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});const zi=p,Re=zi.method;var Ol=zi.extend({create:Re({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Re({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Re({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Re({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Re({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Re({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});const Vi=p,Ce=Vi.method;var Rl=Vi.extend({create:Ce({method:"POST",fullPath:"/v1/payouts"}),retrieve:Ce({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Ce({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Ce({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Ce({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Ce({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});const Ki=p,He=Ki.method;var Cl=Ki.extend({create:He({method:"POST",fullPath:"/v1/plans"}),retrieve:He({method:"GET",fullPath:"/v1/plans/{plan}"}),update:He({method:"POST",fullPath:"/v1/plans/{plan}"}),list:He({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:He({method:"DELETE",fullPath:"/v1/plans/{plan}"})});const Qi=p,Be=Qi.method;var xl=Qi.extend({create:Be({method:"POST",fullPath:"/v1/prices"}),retrieve:Be({method:"GET",fullPath:"/v1/prices/{price}"}),update:Be({method:"POST",fullPath:"/v1/prices/{price}"}),list:Be({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Be({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});const Ji=p,xe=Ji.method;var wl=Ji.extend({create:xe({method:"POST",fullPath:"/v1/products"}),retrieve:xe({method:"GET",fullPath:"/v1/products/{id}"}),update:xe({method:"POST",fullPath:"/v1/products/{id}"}),list:xe({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:xe({method:"DELETE",fullPath:"/v1/products/{id}"}),search:xe({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});const Yi=p,dt=Yi.method;var Al=Yi.extend({create:dt({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:dt({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:dt({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:dt({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});const Xi=p,Z=Xi.method;var $l=Xi.extend({create:Z({method:"POST",fullPath:"/v1/quotes"}),retrieve:Z({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:Z({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:Z({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:Z({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:Z({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:Z({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:Z({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:Z({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:Z({host:"files.stripe.com",method:"GET",fullPath:"/v1/quotes/{quote}/pdf",streaming:!0})});const Zi=p,je=Zi.method;var Il=Zi.extend({create:je({method:"POST",fullPath:"/v1/refunds"}),retrieve:je({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:je({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:je({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:je({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});const ea=p,zt=ea.method;var Ml=ea.extend({retrieve:zt({method:"GET",fullPath:"/v1/reviews/{review}"}),list:zt({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:zt({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});const ta=p,Gl=ta.method;var kl=ta.extend({list:Gl({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});const ra=p,fe=ra.method;var ql=ra.extend({create:fe({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:fe({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:fe({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:fe({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:fe({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:fe({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:fe({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});const na=p,pt=na.method;var Dl=na.extend({create:pt({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:pt({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:pt({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:pt({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});const oa=p,We=oa.method;var Nl=oa.extend({create:We({method:"POST",fullPath:"/v1/sources"}),retrieve:We({method:"GET",fullPath:"/v1/sources/{source}"}),update:We({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:We({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:We({method:"POST",fullPath:"/v1/sources/{source}/verify"})});const ia=p,me=ia.method;var Fl=ia.extend({create:me({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:me({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:me({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:me({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:me({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:me({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:me({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})});const aa=p,oe=aa.method;var Ll=aa.extend({create:oe({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:oe({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:oe({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:oe({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:oe({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),del:oe({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:oe({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:oe({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:oe({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});const sa=p,we=sa.method;var Ul=sa.extend({create:we({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:we({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:we({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:we({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:we({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:we({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});const ua=p,Nn=ua.method;var Hl=ua.extend({retrieve:Nn({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:Nn({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});const la=p,ht=la.method;var Bl=la.extend({create:ht({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:ht({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:ht({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:ht({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});const ca=p,Fn=ca.method;var jl=ca.extend({create:Fn({method:"POST",fullPath:"/v1/tokens"}),retrieve:Fn({method:"GET",fullPath:"/v1/tokens/{token}"})});const da=p,ze=da.method;var Wl=da.extend({create:ze({method:"POST",fullPath:"/v1/topups"}),retrieve:ze({method:"GET",fullPath:"/v1/topups/{topup}"}),update:ze({method:"POST",fullPath:"/v1/topups/{topup}"}),list:ze({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:ze({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});const pa=p,le=pa.method;var zl=pa.extend({create:le({method:"POST",fullPath:"/v1/transfers"}),retrieve:le({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:le({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:le({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:le({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),retrieveReversal:le({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:le({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),listReversals:le({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"})});const ha=p,Ve=ha.method;var Vl=ha.extend({create:Ve({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Ve({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Ve({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Ve({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Ve({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Vt,Ln;function Kl(){if(Ln)return Vt;Ln=1;const t=p,e=t.method;return Vt=t.extend({create:e({method:"POST",fullPath:"/v1/apps/secrets"}),list:e({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:e({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:e({method:"GET",fullPath:"/v1/apps/secrets/find"})}),Vt}var Kt,Un;function Ql(){if(Un)return Kt;Un=1;const t=p,e=t.method;return Kt=t.extend({create:e({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:e({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:e({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:e({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),Kt}var Qt,Hn;function Jl(){if(Hn)return Qt;Hn=1;const t=p,e=t.method;return Qt=t.extend({create:e({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),Qt}var Jt,Bn;function Yl(){if(Bn)return Jt;Bn=1;const t=p,e=t.method;return Jt=t.extend({create:e({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:e({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),list:e({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:e({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:e({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),Jt}var Yt,jn;function Xl(){if(jn)return Yt;jn=1;const t=p,e=t.method;return Yt=t.extend({retrieve:e({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:e({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:e({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:e({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:e({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"})}),Yt}var Xt,Wn;function Zl(){if(Wn)return Xt;Wn=1;const t=p,e=t.method;return Xt=t.extend({create:e({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:e({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),Xt}var Zt,zn;function ec(){if(zn)return Zt;zn=1;const t=p,e=t.method;return Zt=t.extend({retrieve:e({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:e({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),Zt}var er,Vn;function tc(){if(Vn)return er;Vn=1;const t=p,e=t.method;return er=t.extend({create:e({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:e({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:e({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:e({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:e({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:e({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),er}var tr,Kn;function rc(){if(Kn)return tr;Kn=1;const t=p,e=t.method;return tr=t.extend({retrieve:e({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:e({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:e({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:e({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:e({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),tr}var rr,Qn;function nc(){if(Qn)return rr;Qn=1;const t=p,e=t.method;return rr=t.extend({create:e({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:e({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:e({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:e({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),rr}var nr,Jn;function oc(){if(Jn)return nr;Jn=1;const t=p,e=t.method;return nr=t.extend({create:e({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:e({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:e({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:e({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),nr}var or,Yn;function ic(){if(Yn)return or;Yn=1;const t=p,e=t.method;return or=t.extend({create:e({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:e({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:e({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:e({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:e({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),or}var ir,Xn;function ac(){if(Xn)return ir;Xn=1;const t=p,e=t.method;return ir=t.extend({retrieve:e({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:e({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:e({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),ir}var ar,Zn;function sc(){if(Zn)return ar;Zn=1;const t=p,e=t.method;return ar=t.extend({retrieve:e({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:e({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),ar}var sr,eo;function uc(){if(eo)return sr;eo=1;const t=p,e=t.method;return sr=t.extend({create:e({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:e({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:e({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:e({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),sr}var ur,to;function lc(){if(to)return ur;to=1;const t=p,e=t.method;return ur=t.extend({create:e({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:e({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:e({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:e({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:e({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),ur}var lr,ro;function cc(){if(ro)return lr;ro=1;const t=p,e=t.method;return lr=t.extend({create:e({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:e({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:e({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),lr}var cr,no;function dc(){if(no)return cr;no=1;const t=p,e=t.method;return cr=t.extend({retrieve:e({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:e({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),cr}var dr,oo;function pc(){if(oo)return dr;oo=1;const t=p,e=t.method;return dr=t.extend({retrieve:e({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:e({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),dr}var pr,io;function hc(){if(io)return pr;io=1;const t=p,e=t.method;return pr=t.extend({create:e({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:e({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:e({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:e({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:e({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),pr}var hr,ao;function fc(){if(ao)return hr;ao=1;const t=p,e=t.method;return hr=t.extend({create:e({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),hr}var fr,so;function mc(){if(so)return fr;so=1;const t=p,e=t.method;return fr=t.extend({create:e({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:e({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:e({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:e({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:e({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),fr}var mr,uo;function vc(){if(uo)return mr;uo=1;const t=p,e=t.method;return mr=t.extend({create:e({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:e({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:e({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:e({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:e({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:e({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:e({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:e({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),setReaderDisplay:e({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),mr}var vr,lo;function yc(){if(lo)return vr;lo=1;const t=p,e=t.method;return vr=t.extend({fundCashBalance:e({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),vr}var yr,co;function Pc(){if(co)return yr;co=1;const t=p,e=t.method;return yr=t.extend({expire:e({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),yr}var Pr,po;function gc(){if(po)return Pr;po=1;const t=p,e=t.method;return Pr=t.extend({create:e({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:e({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:e({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:e({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:e({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),Pr}var gr,ho;function Sc(){if(ho)return gr;ho=1;const t=p,e=t.method;return gr=t.extend({deliverCard:e({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:e({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:e({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:e({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"})}),gr}var Sr,fo;function Tc(){if(fo)return Sr;fo=1;const t=p,e=t.method;return Sr=t.extend({presentPaymentMethod:e({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),Sr}var Tr,mo;function Ec(){if(mo)return Tr;mo=1;const t=p,e=t.method;return Tr=t.extend({fail:e({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:e({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:e({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),Tr}var Er,vo;function _c(){if(vo)return Er;vo=1;const t=p,e=t.method;return Er=t.extend({fail:e({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:e({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:e({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),Er}var _r,yo;function bc(){if(yo)return _r;yo=1;const t=p,e=t.method;return _r=t.extend({fail:e({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:e({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:e({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),_r}var br,Po;function Oc(){if(Po)return br;Po=1;const t=p,e=t.method;return br=t.extend({create:e({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),br}var Or,go;function Rc(){if(go)return Or;go=1;const t=p,e=t.method;return Or=t.extend({create:e({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),Or}var Rr,So;function Cc(){if(So)return Rr;So=1;const t=p,e=t.method;return Rr=t.extend({create:e({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:e({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:e({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),Rr}var Cr,To;function xc(){if(To)return Cr;To=1;const t=p,e=t.method;return Cr=t.extend({create:e({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:e({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:e({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),Cr}var xr,Eo;function wc(){if(Eo)return xr;Eo=1;const t=p,e=t.method;return xr=t.extend({create:e({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:e({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:e({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:e({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:e({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:e({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),xr}var wr,_o;function Ac(){if(_o)return wr;_o=1;const t=p,e=t.method;return wr=t.extend({create:e({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:e({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:e({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:e({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),wr}var Ar,bo;function $c(){if(bo)return Ar;bo=1;const t=p,e=t.method;return Ar=t.extend({create:e({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:e({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:e({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:e({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),Ar}var $r,Oo;function Ic(){if(Oo)return $r;Oo=1;const t=p,e=t.method;return $r=t.extend({create:e({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:e({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:e({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:e({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),$r}var Ir,Ro;function Mc(){if(Ro)return Ir;Ro=1;const t=p,e=t.method;return Ir=t.extend({retrieve:e({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:e({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),Ir}var Mr,Co;function Gc(){if(Co)return Mr;Co=1;const t=p,e=t.method;return Mr=t.extend({retrieve:e({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:e({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),Mr}var Gr,xo;function kc(){if(xo)return Gr;xo=1;const t=p,e=t.method;return Gr=t.extend({retrieve:e({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:e({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),Gr}var kr,wo;function qc(){if(wo)return kr;wo=1;const t=p,e=t.method;return kr=t.extend({retrieve:e({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:e({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),kr}const F=St;var Dc={Account:$n,AccountLinks:Ju,Accounts:$n,ApplePayDomains:Yu,ApplicationFees:Xu,Balance:el,BalanceTransactions:tl,Charges:rl,CountrySpecs:nl,Coupons:ol,CreditNotes:il,Customers:al,Disputes:sl,EphemeralKeys:ul,Events:ll,ExchangeRates:cl,FileLinks:dl,Files:vl,InvoiceItems:yl,Invoices:Pl,Mandates:Sl,OAuth:El,PaymentIntents:_l,PaymentLinks:bl,PaymentMethods:Ol,Payouts:Rl,Plans:Cl,Prices:xl,Products:wl,PromotionCodes:Al,Quotes:$l,Refunds:Il,Reviews:Ml,SetupAttempts:kl,SetupIntents:ql,ShippingRates:Dl,Sources:Nl,SubscriptionItems:Fl,Subscriptions:Ll,SubscriptionSchedules:Ul,TaxCodes:Hl,TaxRates:Bl,Tokens:jl,Topups:Wl,Transfers:zl,WebhookEndpoints:Vl,Apps:F("apps",{Secrets:Kl()}),BillingPortal:F("billingPortal",{Configurations:Ql(),Sessions:Jl()}),Checkout:F("checkout",{Sessions:Yl()}),FinancialConnections:F("financialConnections",{Accounts:Xl(),Sessions:Zl()}),Identity:F("identity",{VerificationReports:ec(),VerificationSessions:tc()}),Issuing:F("issuing",{Authorizations:rc(),Cardholders:nc(),Cards:oc(),Disputes:ic(),Transactions:ac()}),Radar:F("radar",{EarlyFraudWarnings:sc(),ValueListItems:uc(),ValueLists:lc()}),Reporting:F("reporting",{ReportRuns:cc(),ReportTypes:dc()}),Sigma:F("sigma",{ScheduledQueryRuns:pc()}),Terminal:F("terminal",{Configurations:hc(),ConnectionTokens:fc(),Locations:mc(),Readers:vc()}),TestHelpers:F("testHelpers",{Customers:yc(),Refunds:Pc(),TestClocks:gc(),Issuing:F("issuing",{Cards:Sc()}),Terminal:F("terminal",{Readers:Tc()}),Treasury:F("treasury",{InboundTransfers:Ec(),OutboundPayments:_c(),OutboundTransfers:bc(),ReceivedCredits:Oc(),ReceivedDebits:Rc()})}),Treasury:F("treasury",{CreditReversals:Cc(),DebitReversals:xc(),FinancialAccounts:wc(),InboundTransfers:Ac(),OutboundPayments:$c(),OutboundTransfers:Ic(),ReceivedCredits:Mc(),ReceivedDebits:Gc(),TransactionEntries:kc(),Transactions:qc()})};let et=class{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,r,n,o,i,a,l,s){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const e=new TypeError(et.TIMEOUT_ERROR_CODE);return e.code=et.TIMEOUT_ERROR_CODE,e}};et.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];et.TIMEOUT_ERROR_CODE="ETIMEDOUT";let Nc=class{constructor(e,r){this._statusCode=e,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var on={HttpClient:et,HttpClientResponse:Nc};const Fc=Kr,ve=Ee,{StripeAPIError:Lc,StripeAuthenticationError:Uc,StripeConnectionError:Hc,StripeError:Bc,StripePermissionError:jc,StripeRateLimitError:Wc}=Fc,{HttpClient:Ao}=on,zc=60;let yt=class{constructor(e,r){this._stripe=e,this._maxBufferedRequestMetric=r}_addHeadersDirectlyToObject(e,r){e.requestId=r["request-id"],e.stripeAccount=e.stripeAccount||r["stripe-account"],e.apiVersion=e.apiVersion||r["stripe-version"],e.idempotencyKey=e.idempotencyKey||r["idempotency-key"]}_makeResponseEvent(e,r,n){const o=Date.now(),i=o-e.request_start_time;return ve.removeNullish({api_version:n["stripe-version"],account:n["stripe-account"],idempotency_key:n["idempotency-key"],method:e.method,path:e.path,status:r,request_id:this._getRequestId(n),elapsed:i,request_start_time:e.request_start_time,request_end_time:o})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,r){return n=>{const o=n.getHeaders(),i=()=>{const l=this._makeResponseEvent(e,n.getStatusCode(),o);this._stripe._emitter.emit("response",l),this._recordRequestMetrics(this._getRequestId(o),l.elapsed)},a=n.toStream(i);return this._addHeadersDirectlyToObject(a,o),r(null,a)}}_jsonResponseHandler(e,r){return n=>{const o=n.getHeaders(),i=this._getRequestId(o),a=n.getStatusCode(),l=this._makeResponseEvent(e,a,o);this._stripe._emitter.emit("response",l),n.toJSON().then(s=>{if(s.error){let u;throw typeof s.error=="string"&&(s.error={type:s.error,message:s.error_description}),s.error.headers=o,s.error.statusCode=a,s.error.requestId=i,a===401?u=new Uc(s.error):a===403?u=new jc(s.error):a===429?u=new Wc(s.error):u=Bc.generate(s.error),u}return s},s=>{throw new Lc({message:"Invalid JSON received from the Stripe API",exception:s,requestId:o["request-id"]})}).then(s=>{this._recordRequestMetrics(i,l.elapsed);const u=n.getRawResponse();this._addHeadersDirectlyToObject(u,o),Object.defineProperty(s,"lastResponse",{enumerable:!1,writable:!1,value:u}),r(null,s)},s=>r(s,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,r,n,o){return o&&r===0&&Ao.CONNECTION_CLOSED_ERROR_CODES.includes(o.code)?!0:r>=n?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,r=null){const n=this._stripe.getInitialNetworkRetryDelay(),o=this._stripe.getMaxNetworkRetryDelay();let i=Math.min(n*Math.pow(e-1,2),o);return i*=.5*(1+Math.random()),i=Math.max(n,i),Number.isInteger(r)&&r<=zc&&(i=Math.max(i,r)),i*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,r){const n=this._getMaxNetworkRetries(r);return e==="POST"&&n>0?`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`:null}_makeHeaders(e,r,n,o,i,a,l){const s={Authorization:e?`Bearer ${e}`:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","User-Agent":this._getUserAgentString(),"X-Stripe-Client-User-Agent":o,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":n,"Stripe-Account":this._stripe.getApiField("stripeAccount"),"Idempotency-Key":this._defaultIdempotencyKey(i,l)},u=i=="POST"||i=="PUT"||i=="PATCH";return(u||r)&&(u||ve.emitWarning(`${i} method had non-zero contentLength but no payload is expected for this verb`),s["Content-Length"]=r),Object.assign(ve.removeNullish(s),ve.normalizeHeaders(a))}_getUserAgentString(){const e=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/v1 NodeBindings/${e} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,r){this._stripe.getTelemetryEnabled()&&e&&(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric?ve.emitWarning("Request metrics buffer is full, dropping telemetry message."):this._stripe._prevRequestMetrics.push({request_id:e,request_duration_ms:r}))}_request(e,r,n,o,i,a={},l,s=null){let u;const d=(h,f,v,P,y)=>setTimeout(h,this._getSleepTimeInMS(P,y),f,v,P+1),m=(h,f,v)=>{const P=a.settings&&a.settings.timeout&&Number.isInteger(a.settings.timeout)&&a.settings.timeout>=0?a.settings.timeout:this._stripe.getApiField("timeout"),y=this._stripe.getApiField("httpClient").makeRequest(r||this._stripe.getApiField("host"),this._stripe.getApiField("port"),n,e,f,u,this._stripe.getApiField("protocol"),P),E=Date.now(),A=ve.removeNullish({api_version:h,account:f["Stripe-Account"],idempotency_key:f["Idempotency-Key"],method:e,path:n,request_start_time:E}),_=v||0,$=this._getMaxNetworkRetries(a.settings||{});this._stripe._emitter.emit("request",A),y.then(b=>yt._shouldRetry(b,_,$)?d(m,h,f,_,b.getHeaders()["retry-after"]):a.streaming&&b.getStatusCode()<400?this._streamingResponseHandler(A,l)(b):this._jsonResponseHandler(A,l)(b)).catch(b=>{if(yt._shouldRetry(null,_,$,b))return d(m,h,f,_,null);{const G=b.code&&b.code===Ao.TIMEOUT_ERROR_CODE;return l(new Hc({message:G?`Request aborted due to timeout being reached (${P}ms)`:yt._generateConnectionErrorMessage(_),detail:b}))}})},c=(h,f)=>{if(h)return l(h);u=f,this._stripe.getClientUserAgent(v=>{var P,y;const E=this._stripe.getApiField("version"),A=this._makeHeaders(i,u.length,E,v,e,(P=a.headers)!==null&&P!==void 0?P:null,(y=a.settings)!==null&&y!==void 0?y:{});m(E,A,0)})};s?s(e,o,a.headers,c):c(null,ve.stringifyRequestData(o||{}))}};var Vc=yt;let Kc=class{computeHMACSignature(e,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,r){throw new Error("computeHMACSignatureAsync not implemented.")}};var fa=Kc;const Qc=Kr,{StripeError:Jc,StripeSignatureVerificationError:ft}=Qc;function Yc(t){const e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(u,d,m,c,h){return this.signature.verifyHeader(u,d,m,c||e.DEFAULT_TOLERANCE,h),u instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(u)):JSON.parse(u)},async constructEventAsync(u,d,m,c,h){return await this.signature.verifyHeaderAsync(u,d,m,c||e.DEFAULT_TOLERANCE,h),u instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(u)):JSON.parse(u)},generateTestHeaderString:function(u){if(!u)throw new Jc({message:"Options are required"});return u.timestamp=Math.floor(u.timestamp)||Math.floor(Date.now()/1e3),u.scheme=u.scheme||r.EXPECTED_SCHEME,u.cryptoProvider=u.cryptoProvider||s(),u.signature=u.signature||u.cryptoProvider.computeHMACSignature(u.timestamp+"."+u.payload,u.secret),["t="+u.timestamp,u.scheme+"="+u.signature].join(",")}},r={EXPECTED_SCHEME:"v1",verifyHeader(u,d,m,c,h){const{decodedHeader:f,decodedPayload:v,details:P}=o(u,d,this.EXPECTED_SCHEME);h=h||s();const y=h.computeHMACSignature(n(v,P),m);return i(v,f,P,y,c),!0},async verifyHeaderAsync(u,d,m,c,h){const{decodedHeader:f,decodedPayload:v,details:P}=o(u,d,this.EXPECTED_SCHEME);h=h||s();const y=await h.computeHMACSignatureAsync(n(v,P),m);return i(v,f,P,y,c)}};function n(u,d){return`${d.timestamp}.${u}`}function o(u,d,m){const c=new TextDecoder("utf8"),h=u instanceof Uint8Array?c.decode(u):u;if(Array.isArray(d))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");const f=d instanceof Uint8Array?c.decode(d):d,v=a(f,m);if(!v||v.timestamp===-1)throw new ft(f,h,{message:"Unable to extract timestamp and signatures from header"});if(!v.signatures.length)throw new ft(f,h,{message:"No signatures found with expected scheme"});return{decodedPayload:h,decodedHeader:f,details:v}}function i(u,d,m,c,h){if(!!!m.signatures.filter(t.secureCompare.bind(t,c)).length)throw new ft(d,u,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? https://github.com/stripe/stripe-node#webhook-signing"});const v=Math.floor(Date.now()/1e3)-m.timestamp;if(h>0&&v>h)throw new ft(d,u,{message:"Timestamp outside the tolerance zone"});return!0}function a(u,d){return typeof u!="string"?null:u.split(",").reduce((m,c)=>{const h=c.split("=");return h[0]==="t"&&(m.timestamp=parseInt(h[1],10)),h[0]===d&&m.signatures.push(h[1]),m},{timestamp:-1,signatures:[]})}let l=null;function s(){return l||(l=t.createDefaultCryptoProvider()),l}return e.signature=r,e}var ma=Yc;const Xc="stripe",Zc="11.10.0",ed="Stripe API wrapper",td=["stripe","payment processing","credit cards","api"],rd="https://github.com/stripe/stripe-node",nd="Stripe <support@stripe.com> (https://stripe.com/)",od=["Ask Bjørn Hansen <ask@develooper.com> (http://www.askask.com/)","Michelle Bu <michelle@stripe.com>","Alex Sexton <alex@stripe.com>","James Padolsey"],id={type:"git",url:"git://github.com/stripe/stripe-node.git"},ad="https://github.com/stripe/stripe-node/issues",sd={node:">=12.*"},ud="lib/stripe.node.js",ld="types/index.d.ts",cd={"@types/chai":"^4.3.4","@types/chai-as-promised":"^7.1.5","@types/mocha":"^10.0.1","@typescript-eslint/eslint-plugin":"^4.33.0","@typescript-eslint/parser":"^4.33.0",chai:"^4.3.6","chai-as-promised":"~7.1.1",coveralls:"^3.1.1",eslint:"^7.32.0","eslint-config-prettier":"^8.5.0","eslint-plugin-chai-friendly":"^0.7.2","eslint-plugin-prettier":"^3.4.1",mocha:"^8.4.0","mocha-junit-reporter":"^2.1.0",nock:"^13.2.9","node-fetch":"^2.6.7",nyc:"^15.1.0",prettier:"^1.16.4","ts-node":"^10.9.1",typescript:"^4.9.4"},dd={minimist:"1.2.6",nanoid:"^3.2.0"},pd={"@types/node":">=8.1.0",qs:"^6.11.0"},hd="MIT",fd={build:"tsc -p tsconfig.json",clean:"rm -rf ./.nyc_output ./node_modules/.cache ./coverage ./lib",prepack:"yarn install && yarn build",mocha:"nyc mocha","mocha-only":"mocha",test:"yarn build && yarn test-typescript && yarn mocha","test-typescript":"tsc --build types/test",lint:"eslint --ext .js,.jsx,.ts .",fix:"yarn lint --fix && ./scripts/updateAPIVersion.js",report:"nyc -r text -r lcov report",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js"},md={types:"./types/index.d.ts",browser:"./lib/stripe.worker.js",worker:"./lib/stripe.worker.js",default:"./lib/stripe.node.js"},vd={name:Xc,version:Zc,description:ed,keywords:td,homepage:rd,author:nd,contributors:od,repository:id,bugs:ad,engines:sd,main:ud,types:ld,devDependencies:cd,resolutions:dd,dependencies:pd,license:hd,scripts:fd,exports:md},$o=Kr,qr=Dc,Io="api.stripe.com",Mo="443",Go="/v1/",ko=null,qo=8e4,Qe=Ee,{determineProcessUserAgentProperties:yd}=Qe,Do=2,No=.5,Pd=["name","version","url","partner_id"],Fo=["apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount"],gd=p,Sd=Vc,Lo=on,Td=fa,Ed=ma;function _d(t){e.PACKAGE_VERSION=vd.version,e.USER_AGENT=Object.assign({bindings_version:e.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},yd()),e.StripeResource=gd,e.resources=qr,e.HttpClient=Lo.HttpClient,e.HttpClientResponse=Lo.HttpClientResponse,e.CryptoProvider=Td;function e(r,n={}){if(!(this instanceof e))return new e(r,n);const o=this._getPropsFromConfig(n);if(this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=e.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter),o.protocol&&o.protocol!=="https"&&(!o.host||/\.stripe\.com$/.test(o.host)))throw new Error("The `https` protocol must be used when sending requests to `*.stripe.com`");const i=o.httpAgent||null;this._api={auth:null,host:o.host||Io,port:o.port||Mo,protocol:o.protocol||"https",basePath:Go,version:o.apiVersion||ko,timeout:Qe.validateInteger("timeout",o.timeout,qo),maxNetworkRetries:Qe.validateInteger("maxNetworkRetries",o.maxNetworkRetries,0),agent:i,httpClient:o.httpClient||(i?this._platformFunctions.createNodeHttpClient(i):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:o.stripeAccount||null};const a=o.typescript||!1;a!==e.USER_AGENT.typescript&&(e.USER_AGENT.typescript=a),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setApiKey(r),this.errors=$o,this.webhooks=Ed(t),this._prevRequestMetrics=[],this._enableTelemetry=o.telemetry!==!1,this._requestSender=new Sd(this,e.StripeResource.MAX_BUFFERED_REQUEST_METRICS),this.StripeResource=e.StripeResource}return e.errors=$o,e.webhooks=ma,e.createNodeHttpClient=t.createNodeHttpClient,e.createFetchHttpClient=t.createFetchHttpClient,e.createNodeCryptoProvider=t.createNodeCryptoProvider,e.createSubtleCryptoProvider=t.createSubtleCryptoProvider,e.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,_setApiKey(r){r&&this._setApiField("auth",`Bearer ${r}`)},_setAppInfo(r){if(r&&typeof r!="object")throw new Error("AppInfo must be an object.");if(r&&!r.name)throw new Error("AppInfo.name is required");r=r||{},this._appInfo=Pd.reduce((n,o)=>(typeof r[o]=="string"&&(n=n||{},n[o]=r[o]),n),void 0)},_setApiField(r,n){this._api[r]=n},getApiField(r){return this._api[r]},setClientId(r){this._clientId=r},getClientId(){return this._clientId},getConstant:r=>{switch(r){case"DEFAULT_HOST":return Io;case"DEFAULT_PORT":return Mo;case"DEFAULT_BASE_PATH":return Go;case"DEFAULT_API_VERSION":return ko;case"DEFAULT_TIMEOUT":return qo;case"MAX_NETWORK_RETRY_DELAY_SEC":return Do;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return No}return e[r]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(r,n,o){const i=Qe.validateInteger(r,n,o);this._setApiField(r,i)},getMaxNetworkRetryDelay(){return Do},getInitialNetworkRetryDelay(){return No},getClientUserAgent(r){return this.getClientUserAgentSeeded(e.USER_AGENT,r)},getClientUserAgentSeeded(r,n){this._platformFunctions.getUname().then(o=>{var i;const a={};for(const s in r)a[s]=encodeURIComponent((i=r[s])!==null&&i!==void 0?i:"null");a.uname=encodeURIComponent(o||"UNKNOWN");const l=this.getApiField("httpClient");l&&(a.httplib=encodeURIComponent(l.getClientName())),this._appInfo&&(a.application=this._appInfo),n(JSON.stringify(a))})},getAppInfoAsString(){if(!this._appInfo)return"";let r=this._appInfo.name;return this._appInfo.version&&(r+=`/${this._appInfo.version}`),this._appInfo.url&&(r+=` (${this._appInfo.url})`),r},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const r in qr)this[Qe.pascalToCamelCase(r)]=new qr[r](this)},_getPropsFromConfig(r){if(!r)return{};const n=typeof r=="string";if(!(r===Object(r)&&!Array.isArray(r))&&!n)throw new Error("Config must either be an object or a string");if(n)return{apiVersion:r};if(Object.keys(r).filter(a=>!Fo.includes(a)).length>0)throw new Error(`Config object may only contain the following: ${Fo.join(", ")}`);return r}},e}var bd={createStripe:_d};class Od extends Event{constructor(e,r){super(e),this.data=r}}let Rd=class{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,r){const n=o=>{r(o.data)};return this.listenerMapping.set(r,n),this.eventTarget.addEventListener(e,n)}removeListener(e,r){const n=this.listenerMapping.get(r);return this.listenerMapping.delete(r),this.eventTarget.removeEventListener(e,n)}once(e,r){const n=o=>{r(o.data)};return this.listenerMapping.set(r,n),this.eventTarget.addEventListener(e,n,{once:!0})}emit(e,r){return this.eventTarget.dispatchEvent(new Od(e,r))}};var Cd=Rd;const xd=on,{HttpClient:Uo,HttpClientResponse:wd}=xd;let Ad=class extends Uo{constructor(e){super(),this._fetchFn=e}getClientName(){return"fetch"}makeRequest(e,r,n,o,i,a,l,s){const u=l==="http",d=new URL(n,`${u?"http":"https"}://${e}`);d.port=r;const m=o=="POST"||o=="PUT"||o=="PATCH",c=a||(m?"":void 0),f=(this._fetchFn||fetch)(d.toString(),{method:o,headers:i,body:c});let v;const P=new Promise((y,E)=>{v=setTimeout(()=>{v=null,E(Uo.makeTimeoutError())},s)});return Promise.race([f,P]).then(y=>new Rt(y)).finally(()=>{v&&clearTimeout(v)})}};class Rt extends wd{constructor(e){super(e.status,Rt._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){const r={};for(const n of e){if(!Array.isArray(n)||n.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[n[0]]=n[1]}return r}}var $d={FetchHttpClient:Ad,FetchHttpClientResponse:Rt};const Id=fa;let Md=class extends Id{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,r){throw new Error("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,r){const n=new TextEncoder,o=await this.subtleCrypto.importKey("raw",n.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",o,n.encode(e)),a=new Uint8Array(i),l=new Array(a.length);for(let s=0;s<a.length;s++)l[s]=zr[a[s]];return l.join("")}};const zr=new Array(256);for(let t=0;t<zr.length;t++)zr[t]=t.toString(16).padStart(2,"0");var Gd=Md;const kd=$d,qd=kd.FetchHttpClient,Dd=Gd;let Nd=class{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=Math.random()*16|0;return(e==="x"?r:r&3|8).toString(16)})}secureCompare(e,r){if(e.length!==r.length)return!1;const n=e.length;let o=0;for(let i=0;i<n;++i)o|=e.charCodeAt(i)^r.charCodeAt(i);return o===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new qd(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new Dd(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var Fd=Nd;const Ld=Cd,Ud=Fd;let Hd=class extends Ud{getUname(){return Promise.resolve(null)}createEmitter(){return new Ld}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}};var Bd=Hd;Object.defineProperty(Ze,"__esModule",{value:!0});const jd=bd,Wd=Bd,an=jd.createStripe(new Wd);ka.exports=an;Ze.Stripe=an;Ze.default=an;var va="https://js.stripe.com/v3",zd=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ho="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Vd=function(){for(var e=document.querySelectorAll('script[src^="'.concat(va,'"]')),r=0;r<e.length;r++){var n=e[r];if(zd.test(n.src))return n}return null},Kd=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(va).concat(r);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(n),n},Qd=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.46.0",startTime:r})},mt=null,Jd=function(e){return mt!==null||(mt=new Promise(function(r,n){if(typeof window>"u"){r(null);return}if(window.Stripe&&e&&console.warn(Ho),window.Stripe){r(window.Stripe);return}try{var o=Vd();o&&e?console.warn(Ho):o||(o=Kd(e)),o.addEventListener("load",function(){window.Stripe?r(window.Stripe):n(new Error("Stripe.js not available"))}),o.addEventListener("error",function(){n(new Error("Failed to load Stripe.js"))})}catch(i){n(i);return}})),mt},Yd=function(e,r,n){if(e===null)return null;var o=e.apply(void 0,r);return Qd(o,n),o},ya=Promise.resolve().then(function(){return Jd(null)}),Pa=!1;ya.catch(function(t){Pa||console.warn(t)});var Xd=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Pa=!0;var o=Date.now();return ya.then(function(i){return Yd(i,r,o)})};function Bo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bo(Object(r),!0).forEach(function(n){ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pt=function(e){return typeof e}:Pt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(t)}function ga(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gt(t,e){return Zd(t)||ep(t,e)||tp(t,e)||rp()}function Zd(t){if(Array.isArray(t))return t}function ep(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],o=!0,i=!1,a,l;try{for(r=r.call(t);!(o=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));o=!0);}catch(s){i=!0,l=s}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function tp(t,e){if(t){if(typeof t=="string")return Wo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wo(t,e)}}function Wo(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vr=function(e){var r=O.useRef(e);return O.useEffect(function(){r.current=e},[e]),r.current},ke=function(e){return e!==null&&Pt(e)==="object"},np=function(e){return ke(e)&&typeof e.then=="function"},op=function(e){return ke(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},zo="[object Object]",ip=function t(e,r){if(!ke(e)||!ke(r))return e===r;var n=Array.isArray(e),o=Array.isArray(r);if(n!==o)return!1;var i=Object.prototype.toString.call(e)===zo,a=Object.prototype.toString.call(r)===zo;if(i!==a)return!1;if(!i&&!n)return e===r;var l=Object.keys(e),s=Object.keys(r);if(l.length!==s.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var m=0;m<s.length;m+=1)u[s[m]]=!0;var c=Object.keys(u);if(c.length!==l.length)return!1;var h=e,f=r,v=function(y){return t(h[y],f[y])};return c.every(v)},Sa=function(e,r,n){return ke(e)?Object.keys(e).reduce(function(o,i){var a=!ke(r)||!ip(e[i],r[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),o):a?jo(jo({},o||{}),{},ga({},i,e[i])):o},null):null},ap="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Vo=function(e){if(e===null||op(e))return e;throw new Error(ap)},sp=function(e){if(np(e))return{tag:"async",stripePromise:Promise.resolve(e).then(Vo)};var r=Vo(e);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},sn=O.createContext(null);sn.displayName="ElementsContext";var up=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},un=O.createContext(null);un.displayName="CartElementContext";var lp=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},Ta=function(e){var r=e.stripe,n=e.options,o=e.children,i=O.useMemo(function(){return sp(r)},[r]),a=O.useState(null),l=gt(a,2),s=l[0],u=l[1],d=O.useState(null),m=gt(d,2),c=m[0],h=m[1],f=O.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),v=gt(f,2),P=v[0],y=v[1];O.useEffect(function(){var _=!0,$=function(G){y(function(K){return K.stripe?K:{stripe:G,elements:G.elements(n)}})};return i.tag==="async"&&!P.stripe?i.stripePromise.then(function(b){b&&_&&$(b)}):i.tag==="sync"&&!P.stripe&&$(i.stripe),function(){_=!1}},[i,P,n]);var E=Vr(r);O.useEffect(function(){E!==null&&E!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[E,r]);var A=Vr(n);return O.useEffect(function(){if(P.elements){var _=Sa(n,A,["clientSecret","fonts"]);_&&P.elements.update(_)}},[n,A,P.elements]),O.useEffect(function(){var _=P.stripe;!_||!_._registerWrapper||!_.registerAppInfo||(_._registerWrapper({name:"react-stripe-js",version:"1.16.4"}),_.registerAppInfo({name:"react-stripe-js",version:"1.16.4",url:"https://stripe.com/docs/stripe-js/react"}))},[P.stripe]),O.createElement(sn.Provider,{value:P},O.createElement(un.Provider,{value:{cart:s,setCart:u,cartState:c,setCartState:h}},o))};Ta.propTypes={stripe:w.any,options:w.object};var Ot=function(e){var r=O.useContext(sn);return up(r,e)},Ko=function(e){var r=O.useContext(un);return lp(r,e)},cp=function(){var e=Ot("calls useElements()"),r=e.elements;return r},dp=function(){var e=Ot("calls useStripe()"),r=e.stripe;return r};w.func.isRequired;var L=function(e,r,n){var o=!!n,i=O.useRef(n);O.useEffect(function(){i.current=n},[n]),O.useEffect(function(){if(!o||!e)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return e.on(r,a),function(){e.off(r,a)}},[o,r,e,i])},pp=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},I=function(e,r){var n="".concat(pp(e),"Element"),o=function(s){var u=s.id,d=s.className,m=s.options,c=m===void 0?{}:m,h=s.onBlur,f=s.onFocus,v=s.onReady,P=s.onChange,y=s.onEscape,E=s.onClick,A=s.onLoadError,_=s.onLoaderStart,$=s.onNetworksChange,b=s.onCheckout,G=s.onLineItemClick,K=s.onConfirm,Q=s.onCancel,ae=s.onShippingAddressChange,ne=s.onShippingRateChange,se=Ot("mounts <".concat(n,">")),U=se.elements,J=O.useState(null),j=gt(J,2),C=j[0],Ct=j[1],Y=O.useRef(null),he=O.useRef(null),ln=Ko("mounts <".concat(n,">")),xt=ln.setCart,wt=ln.setCartState;L(C,"blur",h),L(C,"focus",f),L(C,"escape",y),L(C,"click",E),L(C,"loaderror",A),L(C,"loaderstart",_),L(C,"networkschange",$),L(C,"lineitemclick",G),L(C,"confirm",K),L(C,"cancel",Q),L(C,"shippingaddresschange",ae),L(C,"shippingratechange",ne);var nt;e==="cart"?nt=function(dn){wt(dn),v&&v(dn)}:v&&(e==="payButton"?nt=v:nt=function(){v(C)}),L(C,"ready",nt);var Ea=e==="cart"?function(N){wt(N),P&&P(N)}:P;L(C,"change",Ea);var _a=e==="cart"?function(N){wt(N),b&&b(N)}:b;L(C,"checkout",_a),O.useLayoutEffect(function(){if(Y.current===null&&U&&he.current!==null){var N=U.create(e,c);e==="cart"&&xt&&xt(N),Y.current=N,Ct(N),N.mount(he.current)}},[U,c,xt]);var cn=Vr(c);return O.useEffect(function(){if(Y.current){var N=Sa(c,cn,["paymentRequest"]);N&&Y.current.update(N)}},[c,cn]),O.useLayoutEffect(function(){return function(){Y.current&&(Y.current.destroy(),Y.current=null)}},[]),O.createElement("div",{id:u,className:d,ref:he})},i=function(s){Ot("mounts <".concat(n,">")),Ko("mounts <".concat(n,">"));var u=s.id,d=s.className;return O.createElement("div",{id:u,className:d})},a=r?i:o;return a.propTypes={id:w.string,className:w.string,onChange:w.func,onBlur:w.func,onFocus:w.func,onReady:w.func,onEscape:w.func,onClick:w.func,onLoadError:w.func,onLoaderStart:w.func,onNetworksChange:w.func,onCheckout:w.func,onLineItemClick:w.func,onConfirm:w.func,onCancel:w.func,onShippingAddressChange:w.func,onShippingRateChange:w.func,options:w.object},a.displayName=n,a.__elementType=e,a},M=typeof window>"u";I("auBankAccount",M);var hp=I("card",M);I("cardNumber",M);I("cardExpiry",M);I("cardCvc",M);I("fpxBank",M);I("iban",M);I("idealBank",M);I("p24Bank",M);I("epsBank",M);var fp=I("payment",M);I("payButton",M);I("paymentRequestButton",M);I("linkAuthentication",M);I("address",M);I("shippingAddress",M);I("cart",M);I("paymentMethodMessaging",M);I("affirmMessage",M);I("afterpayClearpayMessage",M);const mp=W(Jo)`
  display: flex;
  flex-direction: column;
  margin-top: 30px;
`,vp=W(Jo.Label)`
  font-size: 16px;
  margin-bottom: 10px;
`;W(hp)`
  padding: 10px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 5px;
  padding: 15px;
  margin-bottom: 20px;
`;const yp=W(Oa)`
  width: 100%;
  max-width: 350px;
  margin: auto;
  background: none;
  border: 4px solid;
  background-color:#45c1bc;
  color: #121212;
  border-radius: 18px;
  font-weight: 700;
  text-transform: uppercase;
  cursor: pointer;
  font-size: 13px;
  position: relative;
  margin-top: 30px;
  @media only screen and (max-width: 767px) {
    width: 75%;
    margin: 0 auto 40px auto;
  }
  &:hover:before {
    left: 80%;
  }
  &:hover:after {
    right: 80%;
  }
  &:hover {
    background-color:#45c1bc;
    color: #121212;
  }
  @media only screen and (max-width: 767px) {
    margin-top: 25px;
  }
`,Pp=({orderId:t,totalPrice:e})=>{const[r,n]=Pe.useState(null),[o,i]=Pe.useState(!1),[a,l]=Pe.useState(!1),[s,u]=Pe.useState(!0),d=Yo(),m=dp(),c=cp(),h=Xo();return R(mp,{onSubmit:async P=>{if(P.preventDefault(),!m||!c)return;l(!0),h(Ma(t));const{error:y,paymentIntent:E}=await m.confirmPayment({elements:c,confirmParams:{return_url:`${window.location.origin}/success`}});y?(n(y.message),l(!1)):E.status==="succeeded"&&(i(!0),l(!1),d("/success"))},children:[g("h3",{children:"Payment"}),g(vp,{children:"Card Details"}),g(fp,{onChange:P=>{u(P.empty),n(P.error?P.error.message:null)}}),r&&g(pn,{variant:"danger",children:r}),g(yp,{type:"submit",variant:"primary",disabled:a||s||o,children:a?"Processing...":"Pay Now"}),o&&g(pn,{variant:"success",children:"Payment succeeded!"})]})},Qo=Xd("pk_test_51MbkNeGJ8v9b2yrMsOEfEwwuEkzRpZOrJ2A5Wkdti8WqCdwI7b0BXIFGAwX888Qpd6K8fZG07igiitpOGOEE52Ns00Aj9fGYtL"),gp={theme:"night"},Sp=W(Ra)`
color: #FFF;
border-radius:18px;
&:hover{
 color: #fff;
}`,Tp=W.div`
background-color:#1a1a1a;
`,Dr=W(ee)`
color: #fff;
  .list-group-item {
    background-color: #1a1a1a;
    color: #fff;
    
  }
`,vt=W.h2`
margin-top: 3rem;
color: #fff;
@media only screen and (max-width: 767px){
  margin-left: 10px;
}`,Ep=W.h1`
margin-top: 3rem;
color: #fff;
padding: 10px;
margin-left: 10px;
`,_p=W(V)`
margin-top: 30px;`,bp=W(Aa)`
margin-top: 50px;
border: none;`,Op=W($a)`
@media only screen and (max-width: 767px){
  width: 200px;
}
`,Kp=()=>{const{orderId:t}=Ca(),e=Xo();Yo(),At(c=>c.cart);const r=At(c=>c.orderDetails),{order:n,error:o,loading:i}=r,a=n?n.orderItems.reduce((c,h)=>c+h.price*h.qty,0).toFixed(2):0,l=n&&a>100?0:10,s=n?(Number(a)+Number(l)).toFixed(2):0;Pe.useEffect(()=>{e(Ga(t))},[t,e]);const[u,d]=Pe.useState("");Pe.useEffect(()=>{let c=$t.CancelToken.source();return(async()=>{try{const{data:f}=await $t.post("/api/payments/create-payment/",{cancelToken:c.token}),{client_secret:v}=f;console.log(v),d(v)}catch(f){if($t.isCancel(f))console.log("Request canceled:",f.message);else throw f}})(),()=>{c.cancel("Component unmounted")}},[]);const m=At(c=>c.auth);return m&&m.userInfo&&m.userInfo.token,i?g(xa,{}):o?g(ot,{variant:"danger",children:o}):g(Tp,{children:R(Ia,{children:[g(wa,{}),R(De,{children:[R(V,{md:8,children:[R(Ep,{children:["Order:",n.id]}),R(Dr,{variant:"flush",children:[R(ee.Item,{children:[g(vt,{children:"Shipping"}),R("p",{children:[g("strong",{children:"Name: "}),n.user.name]}),R("p",{children:[g("strong",{children:"Email: "}),g("a",{style:{color:"#FFF"},href:`mailto:${n.user.email}`,children:n.user.email})]}),R("p",{children:[n.shippingAddress.address,", ",n.shippingAddress.city,", "," ",n.shippingAddress.postalCode,", ",n.shippingAddress.country]})]}),R(ee.Item,{children:[g(vt,{children:"Payment Method"}),R("p",{children:[g("strong",{children:"Method: "}),n.paymentMethod]}),n.isPaid?R(ot,{variant:"success",children:["Paid on ",new Date(n.paidAt).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}):g(ot,{variant:"warning",children:"Not Paid"})]})]}),R(ee.Item,{children:[g(vt,{style:{color:"#FFF",marginLeft:"20px"},children:"Order Items"}),n.orderItems.length===0?g(ot,{variant:"info",children:"Order empty"}):g(Dr,{variant:"flush",children:n.orderItems.map((c,h)=>g(ee.Item,{children:R(De,{children:[g(V,{md:1,children:g(Op,{src:c.image,alt:c.name,fluid:!0,rounded:!0})}),g(V,{md:3,children:g(Sp,{to:`/product/${c.product}`,children:c.name})}),R(V,{md:6,children:[c.qty," X $",c.price," = $",(c.qty*c.price).toFixed(2)]})]})},h))})]})]}),g(_p,{md:4,children:g(bp,{children:R(Dr,{variant:"flush",children:[g(ee.Item,{children:g(vt,{children:"Order Summary"})}),g(ee.Item,{children:R(De,{children:[g(V,{children:"Items:"}),R(V,{children:["$",a]})]})}),g(ee.Item,{children:R(De,{children:[g(V,{children:"Shipping:"}),R(V,{children:["$",n.shippingPrice]})]})}),g(ee.Item,{children:R(De,{children:[g(V,{children:"Total Price:"}),R(V,{children:["$",n.totalPrice]})]})}),g(ee.Item,{children:!n.isPaid&&Qo&&u&&g(Ta,{stripe:Qo,options:{clientSecret:u,appearance:gp},children:g(Pp,{orderId:t,totalPrice:s})})})]})})})]})]})})};export{Kp as default};
